"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6279],{17272:function(e,t,n){n.d(t,{D:function(){return u},M:function(){return r}});var a=n(57437),s=n(1801);let i=({data:e})=>{let t=e=>"object"==typeof e&&null!==e?(0,a.jsx)(o,{children:Object.entries(e).map(([e,n])=>(0,a.jsxs)("li",{children:[(0,a.jsxs)("strong",{children:[e,":"]})," ",t(n)]},e))}):(0,a.jsx)("span",{children:String(e)});return(0,a.jsx)("div",{children:t(e)})},r=s.zo.div`
  margin-top: 1.5rem;
  background-color: var(--privy-color-background-2);
  border-radius: var(--privy-border-radius-md);
  padding: 12px;
  text-align: left;
  max-height: 310px;
  overflow: scroll;
  white-space: pre-wrap;
  width: 100%;
  font-size: 0.875rem;
  font-weight: 400;
  color: var(--privy-color-foreground);
  line-height: 1.5;

  // hide the scrollbars
  -ms-overflow-style: none; /* Internet Explorer 10+ */
  scrollbar-width: none; /* Firefox */

  &::-webkit-scrollbar {
    display: none; /* Safari and Chrome */
  }
`,o=s.zo.ul`
  margin-left: 12px !important;
  white-space: nowrap;

  &:first-child {
    margin-left: 0 !important;
  }

  strong {
    font-weight: 500 !important;
  }
`,u=({data:e,className:t})=>(0,a.jsx)(r,{className:t,children:(0,a.jsx)(i,{data:e})})},65322:function(e,t,n){n.d(t,{f:function(){return s}});let a=2n**256n-1n,s=({amount:e,decimals:t})=>e===a?"Maximum":Intl.NumberFormat(void 0,{maximumFractionDigits:t}).format(Number(e)/10**t)},92780:function(e,t,n){n.d(t,{g:function(){return r}});var a=n(70751),s=n(78722),i=n(96821);let r=async({address:e,chain:t,rpcConfig:n,privyAppId:r})=>{try{let u=(0,a.v)({chain:t,transport:(0,s.d)((0,i.a)(t,n,r))}),[l,p]=await Promise.all([u.readContract({abi:o,address:e,functionName:"symbol"}),u.readContract({abi:o,address:e,functionName:"decimals"})]);return{decimals:p,symbol:l}}catch(e){return console.log(e),null}},o=[{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}]},26279:function(e,t,n){n.r(t),n.d(t,{SendTransactionScreen:function(){return es},default:function(){return es}});var a=n(57437),s=n(2265),i=n(59455),r=n(87721),o=n(2742),u=n(70751),l=n(78722),p=n(71282),d=n(18377),c=n(56934),m=n(3848),y=n(1210),f=n(89660),b=n(25390),h=n(71554),g=n(75599),T=n(12485),v=n(70594),I=n(92780),x=n(65322),k=n(20166),M=n(41884),E=n(96821),S=n(17489),_=n(1801),w=n(38992),F=n(17272),C=n(92870),N=n(60683),j=n(97757),A=n(33657),O=n(2230),R=n(27296);n(29155),n(87336),n(97048),n(64131),n(84250);let D=[{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}],$=_.zo.div`
  display: flex;
  flex-direction: column;
  min-height: 72px;
`;var B=({onBack:e,details:t})=>(0,a.jsxs)($,{children:[(0,a.jsx)(w.M,{backFn:e}),(0,a.jsx)(F.D,{data:t}),(0,a.jsx)(w.B,{})]});let P=({gasUsed:e,effectiveGasPrice:t})=>{if(e&&t)try{return(0,i.NC)(e*t)}catch(e){return}},q=({txn:e,receipt:t,transactionInfo:n,onClose:s,tokenPrice:i,tokenSymbol:r,receiptHeader:o,receiptDescription:u})=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(w.M,{onClose:s}),(0,a.jsx)(j.S,{title:o??"Transaction complete!",description:u??"You're all set."}),(0,a.jsx)(A.T,{tokenPrice:i,from:t.from,to:t.to,gas:P(t),txn:e,transactionInfo:n,tokenSymbol:r}),(0,a.jsx)(M.Y,{}),(0,a.jsx)(U,{loading:!1,onClick:s,children:"All Done"}),(0,a.jsx)(N.R,{}),(0,a.jsx)(w.B,{})]}),U=(0,_.zo)(w.P)`
  && {
    margin-top: 24px;
  }
  transition:
    color 350ms ease,
    background-color 350ms ease;
`,L=[{constant:!1,inputs:[{name:"_salt",type:"bytes32"},{name:"_initializer",type:"bytes"}],name:"deployAccount",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],V=[{name:"from",type:"address"},{name:"param2",type:"address"},{name:"param3",type:"bytes"},{name:"param4",type:"tuple",components:[]},{type:"tuple",components:[{name:"param5",type:"address"},{name:"param6",type:"uint256"},{name:"param7",type:"uint256"},{name:"encodedInitData",type:"bytes"}]}],z=[{constant:!1,inputs:[{name:"spender",type:"address"},{name:"value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],H=[{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"mint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"tokenIds",type:"uint256[]"},{internalType:"uint256[]",name:"quantities",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mintBatch",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"tokenIds",type:"uint256[]"},{internalType:"uint256[]",name:"quantities",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mintBatch",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"quantity",type:"uint256"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"quantity",type:"uint256"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"batchMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"batchMint",outputs:[],stateMutability:"payable",type:"function"}],G=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],W=[{constant:!1,inputs:[{name:"_operator",type:"address"},{name:"_approved",type:"bool"}],name:"setApprovalForAll",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],Q=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],Y=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenIds",type:"uint256[]"},{name:"_amounts",type:"uint256[]"},{name:"_data",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],J=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"},{name:"_amount",type:"uint256"},{name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],K=(e,t)=>{let n=X(z,e);if(n)return{action:"approve",functionName:"approve",isErc20Ish:!0,isNFTIsh:!1,spender:n.args[0],amount:n.args[1]};let a=X(O.E,e);if(a)return{action:"transfer",functionName:"transfer",isErc20Ish:!0,isNFTIsh:!1,transferTo:a.args[0],amount:a.args[1]};if(!t)return{action:"transaction",functionName:"",isErc20Ish:!1,isNFTIsh:!1};let s=X(L,e);if(s&&"string"==typeof s.args[1]){let e=Z(s.args[1]);if(e&&e[4].encodedInitData)return K(e[4].encodedInitData,t)}let i=X(W,e);if(i)return{action:"approve",functionName:"setApprovalForAll",isNFTIsh:!0,isErc20Ish:!1,operator:i.args[0],approved:i.args[1]};let r=X(Q,e);if(r)return{action:"transfer",functionName:"transferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:r.args[0],transferTo:r.args[1],tokenId:r.args[2]};let o=X(G,e);if(o)return{action:"transfer",functionName:"safeTransferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:o.args[0],transferTo:o.args[1],tokenId:o.args[2]};let u=X(J,e);if(u)return{action:"transfer",functionName:"safeTransferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:u.args[0],transferTo:u.args[1],tokenId:u.args[2],amount:u.args[3]};let l=X(Y,e);if(l)return{action:"batch transfer",functionName:"safeBatchTransferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:l.args[0],transferTo:l.args[1],tokenIds:l.args[2],amounts:l.args[3]};let p=X(H,e);return p?{action:"mint",functionName:p.functionName,isNFTIsh:!0,isErc20Ish:!1,args:p.args}:{action:"transaction",isErc20Ish:!1,isNFTIsh:!1}},X=(e,t)=>{try{let n=(0,r.p)({abi:e,data:t});return{functionName:n.functionName,args:n.args||[]}}catch(e){return null}},Z=e=>{try{if("string"==typeof e)return(0,o.r)(V,`0x${e.slice(10)}`)}catch(e){return null}},ee=e=>`${parseFloat(e).toFixed(2)}`,et=(e,t,n,a)=>{let[i,r]=(0,s.useState)(null),{walletProxy:o}=(0,h.u)();return(0,s.useEffect)(()=>{i&&r(null),(async()=>{if(!o||!t)return null;let s=[],i=!0,r=await (0,R.p)(e,n,t,a).catch(t=>(t.message&&t.message.includes("Insufficient balance for transaction")||t.message&&t.message.includes("Insufficient funds for gas * price + value")||t.details&&t.details.includes("insufficient funds")?i=!1:s.push(t),e));return{tx:r,totalGasEstimate:r.gas,hasFunds:i,errors:s}})().then(r)},[e]),i},en=new b.P(new b.j("There was an issue preparing your transaction",d.M_.E32603_DEFAULT_INTERNAL_ERROR.eipCode)),ea=(e,t)=>e?.sendTransaction?"transactionRequest"in e.sendTransaction?e.sendTransaction.transactionRequest:e.sendTransaction.transactionRequests[t]:void 0,es={component:()=>{let{data:e,onUserCloseViaDialogOrKeybindRef:t,setModalData:n,navigate:i}=(0,g.a)(),{client:r,rpcConfig:o,chains:_,closePrivyModal:w,walletProxy:F,showFiatPrices:N}=(0,h.u)(),{user:j}=(0,g.u)(),A=(0,f.u)(),[O,R]=(0,s.useState)(0),[$,P]=(0,s.useState)(0),[U,L]=(0,s.useState)(ea(e,O)),[V,z]=(0,s.useState)(null),[H,G]=(0,s.useState)(),[W,Q]=(0,s.useState)(!1),[Y,J]=(0,s.useState)(null),[X,Z]=(0,s.useState)(null),[es,ei]=(0,s.useState)(null),[er,eo]=(0,s.useState)(void 0),[eu,el]=(0,s.useState)(void 0),[ep,ed]=(0,s.useState)(!1),[ec,em]=(0,s.useState)(!1),[ey,ef]=(0,s.useState)([]),[eb,eh]=(0,s.useState)([]),[eg,eT]=(0,s.useState)("uninitiated"),[ev,eI]=(0,s.useState)(void 0);if(!U||!e?.sendTransaction||!e?.sendTransaction)return(0,a.jsx)(S.ErrorScreenView,{error:Error("Invalid transaction request"),allowlistConfig:A.allowlistConfig,onRetry:()=>{e?.sendTransaction?.onFailure(en),w({shouldCallAuthOnSuccess:!1})}});let{transactingWalletAddress:ex}=e.sendTransaction,ek=(0,s.useMemo)(()=>_.find(e=>Number(e.id)===Number(U.chainId)),[U.chainId]),eM=ek?.nativeCurrency.symbol??"ETH",eE=(0,s.useMemo)(()=>K(U.data,!!A.embeddedWallets.extendedCalldataDecoding),[U.data]),{action:eS,isErc20Ish:e_,isNFTIsh:ew,functionName:eF}=eE,{toAddress:eC,tokenAddress:eN}=(0,s.useMemo)(()=>({toAddress:eE.isErc20Ish?eE.transferTo:U.to??void 0,tokenAddress:eE.isErc20Ish?U.to:void 0}),[eE]);(0,s.useEffect)(()=>{U.to&&ek&&e_&&(0,I.g)({address:U.to,chain:ek,rpcConfig:A.rpcConfig,privyAppId:A.id}).then(z).catch(console.error)},[U.to,ek]);let{tokenPrice:ej,isTokenPriceLoading:eA}=(0,T.u)(U.chainId),{balance:eO}=(0,v.u)({rpcConfig:A.rpcConfig,appId:A.id,address:ex,chain:ek}),eR=function({rpcConfig:e,appId:t,address:n,chain:a,tokenInfo:i}){let{chains:r}=(0,h.u)(),[o,p]=(0,s.useState)(null),[d,y]=(0,s.useState)(!1),f=(0,s.useMemo)(()=>{let n=a||r[0];if(n)return(0,u.v)({chain:a,transport:(0,l.d)((0,c.MQ)(n,e,t))})},[a,e,t]),b=(0,s.useCallback)(async()=>{if(n&&f&&i.address)try{return y(!0),await f.readContract({address:i.address,abi:D,functionName:"balanceOf",args:[n]})}catch(e){console.error(e)}finally{y(!1)}},[f,n,i?.address,a]);return(0,s.useEffect)(()=>{b().then(e=>null!=e&&p(e))},[b]),{balance:o,isLoading:d&&null==o,formattedBalance:(0,m.LH)({amount:o??BigInt(0),decimals:i.decimals})}}({rpcConfig:A.rpcConfig,appId:A.id,address:ex,tokenInfo:{address:eN||"",decimals:V?.decimals??18},chain:ek}),eD=(0,s.useMemo)(()=>(0,E.g)(Number(U.chainId),_,o,{appId:A.id}),[U.chainId,o]),e$=et(U,ex,eD,e?.sendTransaction?.prepareTransactionRequest);(0,s.useEffect)(()=>{L(ea(e,O))},[O]),(0,s.useEffect)(()=>{e.sendTransaction?.getIsSponsored?e.sendTransaction.getIsSponsored().then(G).catch(console.error):G(!1)},[e.sendTransaction.getIsSponsored]);let eB=()=>{if(!W)return Y?e?.sendTransaction?.onSuccess({hash:Y}):es||e$?.errors[0]?e?.sendTransaction?.onFailure(es??e$?.errors[0]??en):e?.sendTransaction?.onFailure(new b.P(new b.j("The user rejected the request",d.M_.E4001_USER_REJECTED_REQUEST.eipCode))),w({shouldCallAuthOnSuccess:!1})};t.current=eB;let eP=!!(e.funding&&e.funding.supportedOptions.length>0),eq=(0,k.g)(BigInt(e$?.totalGasEstimate??0n),eM),eU=N&&ej?(0,k.a)(BigInt(e$?.totalGasEstimate??0n),ej):void 0,eL=(0,k.g)(eO??0n,eM,void 0,!0),eV=N&&ej?(0,k.a)(eO??0n,ej):void 0,ez=V&&!eR.isLoading&&e_&&"approve"!==eS?`${eR.formattedBalance} ${V.symbol}`:void 0,eH=e.sendTransaction?.uiOptions?.transactionInfo?.title;eH||(eH="approve"===eS?e_?"Confirm address":"Confirm action":`Approve ${eS}`);let eG=(0,s.useMemo)(()=>{if(e.sendTransaction?.uiOptions?.description)return e.sendTransaction?.uiOptions?.description;if("approve"===eS&&"setApprovalForAll"===eF&&eE.approved){let e=(0,a.jsx)(y.A,{address:eE.operator||"",url:ek?.blockExplorers?.default?.url});return(0,a.jsxs)(a.Fragment,{children:[A.name," would like your permission for ",e," to transfer tokens on your behalf."]})}if("approve"===eS&&"setApprovalForAll"===eF&&!eE.approved){let e=(0,a.jsx)(y.A,{address:eE.operator||"",url:ek?.blockExplorers?.default?.url});return(0,a.jsxs)(a.Fragment,{children:[A.name," would like your permission to revoke permissions of ",e," from transferring tokens on your behalf."]})}return e_&&"approve"===eS||e_&&"approve"===eS?`${A.name} would like your permission for ${(0,M.D)(eE.spender)} to spend tokens on your behalf.`:`${A.name} wants your permission to approve the following transaction.`},[A.name,e_,eE,e.sendTransaction?.uiOptions.description,eF]),eW=e.sendTransaction?.uiOptions?.transactionInfo?.contractInfo?.imgUrl?(0,a.jsx)("img",{src:e.sendTransaction.uiOptions.transactionInfo.contractInfo.imgUrl,alt:e.sendTransaction.uiOptions.transactionInfo.contractInfo.imgAltText}):null,eQ=!(!e$||e$.errors[0]||e$.hasFunds||!1!==H),eY=eQ&&eP,eJ=eY?"Add funds":e.sendTransaction?.uiOptions?.buttonText||(O<$?"Continue":"Approve"),eK=e=>{if(!e)throw Error("Transaction scan failed");if("Success"===e.validation.status&&("Benign"===e.validation.result_type?el("safe"):"Warning"===e.validation.result_type?el("warn"):"Malicious"===e.validation.result_type&&(el("error"),em(!0))),"Success"!==e.simulation.status)throw Error("Simulation failed");{eo(e.simulation.params);let{assetsIn:t,assetsOut:n}=function(e,t){let n=[],a=new Map;if(e){for(let t of e)if(t.in[0]){let e;e="ERC721"===t.asset.type||"approve_for_all"===t.in[0].value?{id:`nft:${t.asset.name}`,nftName:t.asset.name,nftCount:t.in.length}:{id:`token:${t.asset.type}:${t.asset.symbol}:${t.asset.name}`,iconUrl:t.asset.logo_url,value:t.in[0].value,symbol:t.asset.symbol,usdValue:t.in[0].usd_price?ee(t.in[0].usd_price):void 0,decimals:t.asset.decimals},n.push(e)}else if(t.out[0]?.value){let e;e="ERC721"===t.asset.type||"approve_for_all"===t.out[0].value?{id:`nft:${t.asset.name}`,nftName:t.asset.name}:{id:`token:${t.asset.type}:${t.asset.symbol}:${t.asset.name}`,iconUrl:t.asset.logo_url,value:t.out[0].value,symbol:t.asset.symbol,usdValue:t.out[0].usd_price?ee(t.out[0].usd_price):void 0,decimals:t.asset.decimals},a.has(e.id)||a.set(e.id,e)}}for(let e of t)for(let t of Object.keys(e.spenders)){let n;n="ERC721"===e.asset.type||"approve_for_all"===e.spenders[t]?.value?{id:`nft:${e.asset.name}`,nftName:e.asset.name}:{id:`token:${e.asset.type}:${e.asset.symbol}:${e.asset.name}`,iconUrl:e.asset.logo_url,value:e.spenders[t]?.value,symbol:e.asset.symbol,usdValue:e.spenders[t]?.usd_price?ee(e.spenders[t]?.usd_price):void 0,decimals:e.asset.decimals},a.has(n.id)||a.set(n.id,n)}return{assetsIn:n,assetsOut:Array.from(a.values())}}(e.simulation.assets_diffs,e.simulation.exposures);if(0===n.length&&0===t.length)throw Error("No tokens found");ef(n),eh(t)}};if((0,s.useEffect)(()=>{e.sendTransaction?.scanTransaction&&A.embeddedWallets.transactionScanning.enabled&&"uninitiated"===eg&&(eT("in progress"),e.sendTransaction.scanTransaction().then(e=>{eK(e),eT("completed")}).catch(()=>eT("failed")))},[!!e.sendTransaction?.scanTransaction]),(0,s.useEffect)(()=>{e.sendTransaction?.scanTransaction&&"failed"!==eg||((t,n,a)=>{if(P(e?.sendTransaction?"transactionRequest"in e.sendTransaction?0:e.sendTransaction.transactionRequests.length-1:0),n.isErc20Ish&&n.amount&&a){let e=(0,x.f)({amount:n.amount,decimals:a.decimals});eI(e),ef([{value:e,symbol:a?.symbol,decimals:a?.decimals}])}else if(t.value){let e=BigInt(t.value),n=ej?(0,k.a)(e,ej):void 0;ef(N&&n?[{value:n}]:[{value:(0,k.p)(e),symbol:eM,decimals:18,usdValue:n}])}else ef(N?[{value:"$0"}]:[{value:"0",symbol:eM,decimals:18}])})(e$?.tx??U,eE,V)},[U,e$?.tx,eE,V,eg]),X)return(0,a.jsx)(q,{txn:e$?.tx??U,onClose:eB,receipt:X,transactionInfo:e.sendTransaction?.uiOptions.transactionInfo,tokenPrice:ej,tokenSymbol:eM,receiptHeader:e.sendTransaction?.uiOptions.successHeader,receiptDescription:e.sendTransaction?.uiOptions.successDescription});if(es)return(0,a.jsx)(C.T,{transactionError:es,transactionHash:Y??void 0,chainType:"ethereum",chainId:e$?.tx.chainId??U.chainId,onClose:eB,onRetry:({resetNonce:e})=>{ei(null);let t={...e$?.tx??U};e&&(t.nonce=void 0),L(t)}});let eX=0!==$&&"number"==typeof O&&0!==O?()=>{R(O-1)}:void 0;return ep&&er?(0,a.jsx)(B,{details:er,onBack:()=>ed(!1)}):(0,a.jsx)(C.S,{transactionIndex:O,onBack:eX,maxIndex:$,disabled:eQ&&!eP||ec,isSubmitting:W,submitError:es,isPreparing:!e$,isTokenPriceLoading:eA,isTokenContractInfoLoading:!ew&&!V,prepareError:e$?.errors[0],symbol:V?.symbol,chain:ek,img:eW,title:eH,subtitle:eG,txValue:U.value,fee:eU??eq,isSponsored:H,from:ex??"",to:eC,tokenAddress:eN??void 0,network:A.chains.find(e=>e.id===U.chainId)?.name??"",transactionDetails:{...eE,formattedAmount:ev},cta:eJ,missingFunds:eQ,action:eS,balance:ez??eV??eL,onClose:eB,onClick:eY?async()=>{if(!ex)return;if(!eP)throw Error("Funding wallet is not enabled");let t="FundingMethodSelectionScreen";n({...e,funding:{...e.funding,methodScreen:t,chainType:"ethereum",amount:(0,p.d)(BigInt(e$?.tx.value??0)+BigInt(e$?.totalGasEstimate?.toString()??0)),chain:ek},solanaFundingData:e?.solanaFundingData}),i(t)}:async()=>{if(O<$)R(O+1);else{Q(!0);try{let t=await r.getAccessToken();if(W||!t||!F||!j)return;let n=await e.sendTransaction.onConfirm({transactionRequest:e$?.tx??U});if(J(n),e.sendTransaction?.signOnly)return await new Promise(e=>setTimeout(e,f.q)),e?.sendTransaction?.onSuccess({hash:n}),w({shouldCallAuthOnSuccess:!1});let a=await eD.waitForTransactionReceipt({hash:n});if("reverted"===a.status)throw Error("Transaction failed");Z(a)}catch(e){console.warn({transaction:e$?.tx??U,error:e}),ei(e)}finally{Q(!1)}}},validation:eu,hasScanDetails:!!er,setIsScanDetailsOpen:ed,preventMaliciousTransaction:ec,setPreventMaliciousTransaction:em,tokensSent:ey,tokensReceived:eb,isScanning:"in progress"===eg,isCancellable:e.sendTransaction?.uiOptions?.isCancellable??!1,functionName:eF})}}},2230:function(e,t,n){n.d(t,{E:function(){return a},a:function(){return s}});let a=[{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],s=[{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}]},70594:function(e,t,n){n.d(t,{u:function(){return u}});var a=n(2265),s=n(70751),i=n(78722),r=n(96821),o=n(71554);function u({rpcConfig:e,appId:t,address:n,chain:u}){let{chains:l}=(0,o.u)(),[p,d]=(0,a.useState)(0n),[c,m]=(0,a.useState)(!1),y=(0,a.useMemo)(()=>{let n=u||l[0];if(n)return(0,s.v)({chain:u,transport:(0,i.d)((0,r.a)(n,e,t))})},[u,e,t]),f=(0,a.useCallback)(async()=>{if(!n||!y)return;m(!0);let e=await y.getBalance({address:n}).catch(console.error);return e?(d(e),m(!1),e):void 0},[y,n,d]);return(0,a.useEffect)(()=>{f().catch(console.error)},[]),{balance:p,isLoading:c,reloadBalance:f}}}}]);