"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7670],{47670:function(e,r,n){n.r(r),n.d(r,{TurnstileWrapper:function(){return w},default:function(){return w}});var t,o=n(57437),i=n(2265),c=(0,i.forwardRef)((e,r)=>{let{as:n="div",...t}=e;return(0,o.jsx)(n,{...t,ref:r})}),u="cf-turnstile-script",a="onloadTurnstileCallback",l=e=>!!document.getElementById(e),s=e=>{let{render:r="explicit",onLoadCallbackName:n=a,scriptOptions:{nonce:t="",defer:o=!0,async:i=!0,id:c="",appendTo:s,onError:d,crossOrigin:f=""}={}}=e,p=c||u;if(l(p))return;let v=document.createElement("script");v.id=p,v.src="".concat("https://challenges.cloudflare.com/turnstile/v0/api.js","?onload=").concat(n,"&render=").concat(r),document.querySelector('script[src="'.concat(v.src,'"]'))||(v.defer=!!o,v.async=!!i,t&&(v.nonce=t),f&&(v.crossOrigin=f),d&&(v.onerror=d,delete window[n]),("body"===s?document.body:document.getElementsByTagName("head")[0]).appendChild(v))},d={normal:{width:300,height:65},compact:{width:150,height:140},invisible:{width:0,height:0,overflow:"hidden"},flexible:{minWidth:300,width:"100%",height:65},interactionOnly:{width:"fit-content",height:"auto",display:"flex"}},f="unloaded",p=new Promise((e,r)=>{t={resolve:e,reject:r},"ready"===f&&e(void 0)}),v=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;return"unloaded"===f&&(f="loading",window[e]=()=>{t.resolve(),f="ready",delete window[e]}),p},h=(0,i.forwardRef)((e,r)=>{let{scriptOptions:n,options:t={},siteKey:p,onWidgetLoad:h,onSuccess:w,onExpire:m,onError:x,onBeforeInteractive:y,onAfterInteractive:b,onUnsupported:E,onTimeout:g,onLoadScript:T,id:k,style:I,as:C="div",injectScript:S=!0,rerenderOnCallbackChange:R=!1,...A}=e,N=t.size,O=(0,i.useCallback)(()=>typeof N>"u"?{}:"execute"===t.execution?d.invisible:"interaction-only"===t.appearance?d.interactionOnly:d[N],[t.execution,N,t.appearance]),[B,F]=(0,i.useState)(O()),_=(0,i.useRef)(null),[j,L]=(0,i.useState)(!1),U=(0,i.useRef)(void 0),P=(0,i.useRef)(!1),z=k||"cf-turnstile",D=(0,i.useRef)({onSuccess:w,onError:x,onExpire:m,onBeforeInteractive:y,onAfterInteractive:b,onUnsupported:E,onTimeout:g});(0,i.useEffect)(()=>{R||(D.current={onSuccess:w,onError:x,onExpire:m,onBeforeInteractive:y,onAfterInteractive:b,onUnsupported:E,onTimeout:g})});let K=(null==n?void 0:n.id)||u,W=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,[r,n]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{let r=()=>{l(e)&&n(!0)},t=new MutationObserver(r);return t.observe(document,{childList:!0,subtree:!0}),r(),()=>{t.disconnect()}},[e]),r}(K),M=(null==n?void 0:n.onLoadCallbackName)||a,q=t.appearance||"always",H=(0,i.useMemo)(()=>{var e;return{sitekey:p,action:t.action,cData:t.cData,theme:t.theme||"auto",language:t.language||"auto",tabindex:t.tabIndex,"response-field":t.responseField,"response-field-name":t.responseFieldName,size:function(e){if("invisible"!==e&&"interactionOnly"!==e)return e}(N),retry:t.retry||"auto","retry-interval":t.retryInterval||8e3,"refresh-expired":t.refreshExpired||"auto","refresh-timeout":t.refreshTimeout||"auto",execution:t.execution||"render",appearance:t.appearance||"always","feedback-enabled":null===(e=t.feedbackEnabled)||void 0===e||e,callback:e=>{var r,n;P.current=!0,R?null==w||w(e):null===(r=(n=D.current).onSuccess)||void 0===r||r.call(n,e)},"error-callback":R?x:function(){for(var e,r,n=arguments.length,t=Array(n),o=0;o<n;o++)t[o]=arguments[o];return null===(e=(r=D.current).onError)||void 0===e?void 0:e.call(r,...t)},"expired-callback":R?m:function(){for(var e,r,n=arguments.length,t=Array(n),o=0;o<n;o++)t[o]=arguments[o];return null===(e=(r=D.current).onExpire)||void 0===e?void 0:e.call(r,...t)},"before-interactive-callback":R?y:function(){for(var e,r,n=arguments.length,t=Array(n),o=0;o<n;o++)t[o]=arguments[o];return null===(e=(r=D.current).onBeforeInteractive)||void 0===e?void 0:e.call(r,...t)},"after-interactive-callback":R?b:function(){for(var e,r,n=arguments.length,t=Array(n),o=0;o<n;o++)t[o]=arguments[o];return null===(e=(r=D.current).onAfterInteractive)||void 0===e?void 0:e.call(r,...t)},"unsupported-callback":R?E:function(){for(var e,r,n=arguments.length,t=Array(n),o=0;o<n;o++)t[o]=arguments[o];return null===(e=(r=D.current).onUnsupported)||void 0===e?void 0:e.call(r,...t)},"timeout-callback":R?g:function(){for(var e,r,n=arguments.length,t=Array(n),o=0;o<n;o++)t[o]=arguments[o];return null===(e=(r=D.current).onTimeout)||void 0===e?void 0:e.call(r,...t)}}},[t.action,t.appearance,t.cData,t.execution,t.language,t.refreshExpired,t.responseField,t.responseFieldName,t.retry,t.retryInterval,t.tabIndex,t.theme,t.feedbackEnabled,t.refreshTimeout,p,N,R,R?w:null,R?x:null,R?m:null,R?y:null,R?b:null,R?E:null,R?g:null]),G=(0,i.useCallback)(()=>"u">typeof window&&!!window.turnstile,[]);return(0,i.useEffect)(function(){S&&!j&&(v(M),s({onLoadCallbackName:M,scriptOptions:{...n,id:K}}))},[S,j,n,K,M]),(0,i.useEffect)(function(){"ready"!==f&&v(M).then(()=>L(!0)).catch(console.error)},[M]),(0,i.useEffect)(function(){if(!_.current||!j)return;let e=!1;return(async()=>{if(e||!_.current)return;let r=window.turnstile.render(_.current,H);U.current=r,U.current&&(null==h||h(U.current))})(),()=>{e=!0,U.current&&(window.turnstile.remove(U.current),P.current=!1)}},[z,j,H]),(0,i.useImperativeHandle)(r,()=>{let{turnstile:e}=window;return{getResponse(){if(!(null==e?void 0:e.getResponse)||!U.current||!G()){console.warn("Turnstile has not been loaded");return}return e.getResponse(U.current)},async getResponsePromise(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e4,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return new Promise((n,t)=>{let o,i=async()=>{if(P.current&&window.turnstile&&U.current)try{let e=window.turnstile.getResponse(U.current);return o&&clearTimeout(o),e?n(e):t(Error("No response received"))}catch(e){return o&&clearTimeout(o),console.warn("Failed to get response",e),t(Error("Failed to get response"))}o||(o=setTimeout(()=>{o&&clearTimeout(o),t(Error("Timeout"))},e)),await new Promise(e=>setTimeout(e,r)),await i()};i()})},reset(){if(!(null==e?void 0:e.reset)||!U.current||!G()){console.warn("Turnstile has not been loaded");return}"execute"===t.execution&&F(d.invisible);try{P.current=!1,e.reset(U.current)}catch(e){console.warn("Failed to reset Turnstile widget ".concat(U),e)}},remove(){if(!(null==e?void 0:e.remove)||!U.current||!G()){console.warn("Turnstile has not been loaded");return}F(d.invisible),P.current=!1,e.remove(U.current),U.current=null},render(){if(!(null==e?void 0:e.render)||!_.current||!G()||U.current){console.warn("Turnstile has not been loaded or container not found");return}let r=e.render(_.current,H);return U.current=r,U.current&&(null==h||h(U.current)),"execute"!==t.execution&&F(N?d[N]:{}),r},execute(){if("execute"!==t.execution){console.warn('Execution mode is not set to "execute"');return}if(!(null==e?void 0:e.execute)||!_.current||!U.current||!G()){console.warn("Turnstile has not been loaded or container not found");return}e.execute(_.current,H),F(N?d[N]:{})},isExpired:()=>(null==e?void 0:e.isExpired)&&U.current&&G()?e.isExpired(U.current):(console.warn("Turnstile has not been loaded"),!1)}},[U,t.execution,N,H,_,G,j,h]),(0,i.useEffect)(()=>{if(j||!W)return;if(window.turnstile){L(!0);return}let e=setInterval(()=>{window.turnstile&&(L(!0),clearInterval(e))},50);return()=>{clearInterval(e)}},[j,W]),(0,i.useEffect)(()=>{F(O())},[t.execution,N,q]),(0,i.useEffect)(()=>{W&&"function"==typeof T&&T()},[W]),(0,o.jsx)(c,{ref:_,as:C,id:z,style:{...B,...I},...A})});h.displayName="Turnstile";let w=({delayedExecution:e,captchaContext:r,...n})=>{let{appId:t,setError:i,setToken:c,setExecuting:u,siteKey:a,ref:l}=r;return(0,o.jsx)(h,{...n,ref:l,siteKey:a??"",options:{action:t,size:"invisible",...e?{appearance:"execute",execution:"execute"}:{appearance:"always",execution:"render"}},onUnsupported:()=>{n.onUnsupported?.(),console.warn("Browser does not support Turnstile.")},onError:e=>{n.onError?.(e),i("Captcha failed"),u(!1)},onSuccess:e=>{n.onSuccess?.(e),c(e),u(!1)},onExpire:e=>{n.onExpire?.(e);try{l.current?.reset(),i(void 0),c(void 0)}catch(e){i("expired_and_failed_reset")}}})}}}]);